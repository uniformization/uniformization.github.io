!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var o={exports:{}};t(o.exports,o),e.fetchJsonp=o.exports}}(this,(function(e,t){"use strict";var o=5e3,n="callback";function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=e,s=t.timeout||o,u=t.jsonpCallback||n,d=void 0;return new Promise((function(o,n){var a=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),f=u+"_"+a;window[a]=function(e){o({ok:!0,json:function(){return Promise.resolve(e)}}),d&&clearTimeout(d),i(f),r(a)},c+=-1===c.indexOf("?")?"?":"&";var l=document.createElement("script");l.setAttribute("src",""+c+u+"="+a),t.charset&&l.setAttribute("charset",t.charset),t.nonce&&l.setAttribute("nonce",t.nonce),t.referrerPolicy&&l.setAttribute("referrerPolicy",t.referrerPolicy),t.crossorigin&&l.setAttribute("crossorigin","true"),l.id=f,document.getElementsByTagName("head")[0].appendChild(l),d=setTimeout((function(){n(new Error("JSONP request to "+e+" timed out")),r(a),i(f),window[a]=function(){r(a)}}),s),l.onerror=function(){n(new Error("JSONP request to "+e+" failed")),r(a),i(f),d&&clearTimeout(d)}}))}}));